<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini AI - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="sidebar">
            <div class="logo-section">
                <div class="logo">
                    <div class="logo-icon">ü§ñ</div>
                    <div class="logo-text">
                        <h1>Gemini AI</h1>
                        <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç</p>
                    </div>
                </div>
            </div>

            <div class="context-info">
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">–ú–æ–¥–µ–ª—å</span>
                        <span class="info-value" id="model-name">gemini-2.5-flash</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–°–æ–æ–±—â–µ–Ω–∏–π</span>
                        <span class="info-value" id="context-messages">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–ö–æ–Ω—Ç–µ–∫—Å—Ç</span>
                        <span class="info-value" id="context-percentage">0%</span>
                    </div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="context-progress" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <div class="personality-section">
                <h3>–°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è</h3>
                <div class="personality-grid">
                    <button class="personality-btn active" data-personality="default" onclick="changePersonality('default')">
                        <div class="personality-icon">ü§ñ</div>
                        <div class="personality-text">
                            <span class="personality-name">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π</span>
                            <span class="personality-desc">–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</span>
                        </div>
                    </button>
                    <button class="personality-btn" data-personality="poet" onclick="changePersonality('poet')">
                        <div class="personality-icon">üé≠</div>
                        <div class="personality-text">
                            <span class="personality-name">–ü–æ—ç—Ç</span>
                            <span class="personality-desc">–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã</span>
                        </div>
                    </button>
                    <button class="personality-btn" data-personality="teacher" onclick="changePersonality('teacher')">
                        <div class="personality-icon">üë®‚Äçüè´</div>
                        <div class="personality-text">
                            <span class="personality-name">–£—á–∏—Ç–µ–ª—å</span>
                            <span class="personality-desc">–ü–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è</span>
                        </div>
                    </button>
                    <button class="personality-btn" data-personality="friend" onclick="changePersonality('friend')">
                        <div class="personality-icon">üë´</div>
                        <div class="personality-text">
                            <span class="personality-name">–î—Ä—É–≥</span>
                            <span class="personality-desc">–ü—Ä–æ—Å—Ç–æ–µ –æ–±—â–µ–Ω–∏–µ</span>
                        </div>
                    </button>
                    <button class="personality-btn" data-personality="professional" onclick="changePersonality('professional')">
                        <div class="personality-icon">üëî</div>
                        <div class="personality-text">
                            <span class="personality-name">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª</span>
                            <span class="personality-desc">–î–µ–ª–æ–≤–æ–π —Å—Ç–∏–ª—å</span>
                        </div>
                    </button>
                </div>
            </div>

            <div class="actions-section">
                <button class="action-btn clear-btn" onclick="clearContext()">
                    <span class="action-icon">üßπ</span>
                    <span class="action-text">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç</span>
                </button>
                <button class="action-btn settings-btn" onclick="showSettings()">
                    <span class="action-icon">‚öôÔ∏è</span>
                    <span class="action-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </button>
            </div>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
        <main class="chat-area">
            <header class="header">
                <div class="header-content">
                    <div class="header-text">
                        <h1>–ß–∞—Ç —Å Gemini AI</h1>
                        <p>–£–º–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ Google Gemini</p>
                    </div>
                    <div class="header-status">
                        <div class="status-indicator online"></div>
                        <span class="status-text">–í —Å–µ—Ç–∏</span>
                    </div>
                </div>
            </header>

            <div class="chat-messages" id="chat-messages">
                <div class="welcome-message">
                    <div class="welcome-content">
                        <div class="welcome-icon">üëã</div>
                        <div class="welcome-text">
                            <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                            <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á Google Gemini –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è</p>
                            <button class="welcome-btn" onclick="showApiKeyDialog()">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="typing-indicator" id="typing-indicator">
                <div class="typing-content">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    <span class="typing-text">AI –ø–µ—á–∞—Ç–∞–µ—Ç...</span>
                </div>
            </div>

            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        id="message-input" 
                        class="message-input" 
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                        onkeypress="handleKeyPress(event)"
                        rows="1"
                    ></textarea>
                    <button id="send-button" class="send-button" onclick="sendMessage()" disabled>
                        <span class="send-icon">‚û§</span>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <button class="modal-close" onclick="hideSettings()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="api-key-input">API –∫–ª—é—á Gemini</label>
                    <input 
                        type="password" 
                        id="api-key-input" 
                        class="setting-input"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á..."
                    >
                    <button class="setting-btn" onclick="saveApiKey()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                <div class="setting-info">
                    <p>–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –≤ <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></p>
                </div>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
