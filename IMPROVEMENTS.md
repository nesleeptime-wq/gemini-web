# üîß –£–ª—É—á—à–µ–Ω–∏—è Telegram –±–æ—Ç–∞

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### 1. üé≠ **–ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ—Ñ–∏–ª–µ–π**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–∞–Ω–¥—ã `/profile` –∏ `/profiles` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ `context.args`
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `len(context.args) > 0`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–∞–Ω–¥—ã —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 2. üìù **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç—Ä–∞–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫—Ä–∏–≤—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ—Å—Ç–∞—è –∑–∞–º–µ–Ω–∞ –ø—Ä–æ–±–µ–ª–æ–≤ –ª–æ–º–∞–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ–∫—Å—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞:
  ```python
  # –û—á–∏—Å—Ç–∫–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
  response = response.strip()
  
  # –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∑–∞–º–µ–Ω–∞ markdown
  response = response.replace('**', '*')  # –ñ–∏—Ä–Ω—ã–π
  
  # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫—Ä–∞—Å–∏–≤—ã—Ö —Ç–∏—Ä–µ
  response = response.replace('‚Äî', '‚Äî')  # —ç–º-—Ç–∏—Ä–µ
  response = response.replace('‚Äì', '‚Äì')    # —ç–Ω-—Ç–∏—Ä–µ
  
  # –£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
  lines = response.split('\n')
  while lines and not lines[0].strip():
      lines.pop(0)  # –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ
  ```

### 3. üåê **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ —É–¥–æ–±–Ω–æ–π —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–µ–±-–≤–µ—Ä—Å–∏—é
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/web` —Å –∫–Ω–æ–ø–∫–∞–º–∏:
  - üåê –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ GitHub Pages
  - üìñ –ö–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏
  - üí¨ –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥

---

## üÜï **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

### 1. üé® **–£–ª—É—á—à–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç**
```python
welcome_text = f"""ü§ñ *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {user.first_name}!*

–Ø –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ Google Gemini üß†

*–ß—Ç–æ —è –º–æ–≥—É –¥–µ–ª–∞—Ç—å:*
‚Ä¢ –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚Ä¢ –ü–æ–º–æ–≥–∞—Ç—å —Å —É—á–µ–±–æ–π –∏ —Ä–∞–±–æ—Ç–æ–π
‚Ä¢ –°–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç—ã –∏ –ø–µ—Ä–µ–≤–æ–¥—ã
‚Ä¢ –û–±—â–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã

*–ö–æ–º–∞–Ω–¥—ã:*
/start - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
/help - –ü–æ–º–æ—â—å –∏ –∫–æ–º–∞–Ω–¥—ã
/clear - –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞
/info - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
/profile - –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å
/profiles - –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏
/web - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å üÜï

*üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:*
–î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—à—É –≤–µ–±-–≤–µ—Ä—Å–∏—é!
–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É /web

–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏ —è –æ—Ç–≤–µ—á—É! üí¨"""
```

### 2. üåê **–ö–æ–º–∞–Ω–¥–∞ /web**
```python
async def web_command(self, update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"""
    web_url = "https://nesleeptime-wq.github.io/gemini-web/"
    
    keyboard = [
        [InlineKeyboardButton("üåê –û—Ç–∫—Ä—ã—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å", url=web_url)],
        [InlineKeyboardButton("üìñ –ü–æ–º–æ—â—å", callback_data="help")],
        [InlineKeyboardButton("üí¨ –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥", callback_data="chat")]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await update.message.reply_text(
        f"üåê *–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Gemini AI*\n\n"
        f"–î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è —Å AI –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—à –≤–µ–±-—Å–∞–π—Ç:\n"
        f"üîó {web_url}\n\n"
        f"‚ú® *–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤–µ–±-–≤–µ—Ä—Å–∏–∏:*\n"
        f"‚Ä¢ üé® –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω\n"
        f"‚Ä¢ üì± –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö\n"
        f"‚Ä¢ üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏\n"
        f"‚Ä¢ üé≠ –ë—ã—Å—Ç—Ä–∞—è —Å–º–µ–Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–µ–π",
        parse_mode="Markdown",
        reply_markup=reply_markup
    )
```

### 3. üìù **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```python
def _format_response(self, response: str) -> str:
    """–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è Telegram"""
    # –û—á–∏—â–∞–µ–º –æ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ
    response = response.strip()
    
    # –ó–∞–º–µ–Ω—è–µ–º markdown –Ω–∞ Telegram —Ñ–æ—Ä–º–∞—Ç
    # –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç: **—Ç–µ–∫—Å—Ç** ‚Üí *—Ç–µ–∫—Å—Ç*
    response = response.replace('**', '*')
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫—Ä–∞—Å–∏–≤—ã–µ —Ç–∏—Ä–µ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
    response = response.replace('‚Äî', '‚Äî')  # —ç–º-—Ç–∏—Ä–µ –æ—Å—Ç–∞–≤–ª—è–µ–º –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã
    response = response.replace('‚Äì', '‚Äì')    # —ç–Ω-—Ç–∏—Ä–µ –æ—Å—Ç–∞–≤–ª—è–µ–º
    
    # –£–¥–∞–ª—è–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
    import re
    response = re.sub(r'\s+', ' ', response)
    
    # –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ
    lines = response.split('\n')
    while lines and not lines[0].strip():
        lines.pop(0)  # –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ
    while lines and not lines[-1].strip():
        lines.pop()   # –£–¥–∞–ª—è–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ü–µ
    
    # –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏
    response = '\n'.join(lines)
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
    response = response.replace(' \n', '\n')  # –ø—Ä–æ–±–µ–ª –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–Ω–æ—Å–æ–º
    response = response.replace('\n ', '\n')   # –ø—Ä–æ–±–µ–ª –ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞
    
    return response
```

---

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç —É–ª—É—á—à–µ–Ω–∏–π:**

### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
1. **–ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ—Ñ–∏–ª–µ–π** —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞** —Å—Ç–∞–ª–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º
3. **–ü–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. **Markdown** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

### ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ:**
1. **–ö–æ–º–∞–Ω–¥–∞ `/web`** —Å –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
2. **–ö–Ω–æ–ø–∫–∏** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Ç–µ–∫—Å—Ç–∞
4. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ** —Å –≤—Å–µ–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏

---

## üöÄ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### –ü—Ä–æ–≤–µ—Ä—å –∫–æ–º–∞–Ω–¥—ã:
1. `/profile poet` - –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å
2. `/profiles` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ª–∏—á–Ω–æ—Å—Ç–µ–π
3. `/web` - –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. `/help` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –ø–æ–º–æ—â–∏

### –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç: `*–∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç*`
- –ü–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫: —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢–∏—Ä–µ: –∫—Ä–∞—Å–∏–≤—ã–µ —ç–º-—Ç–∏—Ä–µ `‚Äî`

---

## üéä **–ò—Ç–æ–≥:**

–¢–µ–ø–µ—Ä—å –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ** –∏ **–±–µ–∑ –±–∞–≥–æ–≤**! üå∏

### –£ –º–∞–º—ã –µ—Å—Ç—å:
1. üì± **Telegram –±–æ—Ç** —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
2. üåê **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –ø–æ –∫–Ω–æ–ø–∫–µ `/web`
3. üé≠ **5 –ª–∏—á–Ω–æ—Å—Ç–µ–π** —Å —Ä–∞–±–æ—á–µ–π —Å–º–µ–Ω–æ–π
4. üìù **–ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ç–µ–∫—Å—Ç–∞

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã!** ‚ú®
